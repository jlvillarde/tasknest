FROM node:22-alpine

WORKDIR /app

COPY package.json yarn.lock ./

# Combine RUN commands to reduce layers and clean up in same layer
RUN corepack enable && \
    yarn install --frozen-lockfile && \
    yarn cache clean && \
    rm -rf /tmp/* /var/cache/apk/* /root/.yarn /root/.cache

EXPOSE 5173

CMD ["yarn", "dev"]